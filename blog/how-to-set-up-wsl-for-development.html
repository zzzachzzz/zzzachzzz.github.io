<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>How to Set Up WSL for Development</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/116a9d0d7bbcb7ff8fb6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/116a9d0d7bbcb7ff8fb6.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c746a4ce4ff8692382cd.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.37f4a736348214b3ca94.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.e810983d220ce60d77fa.js" as="script"/><link rel="preload" href="/_next/static/chunks/d31217defe14a45f21f2dc88a0340a4400241e5c.43128fe35357df1292f1.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-c5083ace283475b900f0.js" as="script"/><link rel="preload" href="/_next/static/chunks/f55490c27d84c973f151130575d86126183b0b6b.3b39966ad3ab6ba53dac.js" as="script"/><link rel="preload" href="/_next/static/chunks/14e8b4443f853547963f3fff4f6d87edb6a6aabe.40db631bc2cb4cd6b167.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-3e90714ce7440c4a9cbd.js" as="script"/><style data-styled="" data-styled-version="5.2.1">html{font-size:16px;min-height:100vh;}/*!sc*/
html,body{height:100%;margin:0;padding:0;}/*!sc*/
@media only screen and (max-device-width:480px){html{font-size:14px;}}/*!sc*/
body{background-color:#3e4d4f;color:white;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen", "Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue", sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}/*!sc*/
*{box-sizing:border-box;}/*!sc*/
h1,h2,h3,h4,h5,h6{font-weight:400;}/*!sc*/
code{font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;}/*!sc*/
data-styled.g1[id="sc-global-bYaKAX1"]{content:"sc-global-bYaKAX1,"}/*!sc*/
.kuhBS{background-color:#272822;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;padding:0.2em 0.4em;font-size:0.8em;border-radius:0.3em;color:#ae81ff;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g2[id="A__A_-sc-14fqd0c-0"]{content:"kuhBS,"}/*!sc*/
.frqqeo{margin:5px;}/*!sc*/
data-styled.g3[id="Navigation___StyledLink-sc-10fffhi-0"]{content:"frqqeo,"}/*!sc*/
.fBDDkv{margin:5px;}/*!sc*/
data-styled.g4[id="Navigation___StyledLink2-sc-10fffhi-1"]{content:"fBDDkv,"}/*!sc*/
.gwcSSF{margin:5px;}/*!sc*/
data-styled.g5[id="Navigation___StyledLink3-sc-10fffhi-2"]{content:"gwcSSF,"}/*!sc*/
.hmTGJm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:1.2em;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g6[id="Navigation__Nav-sc-10fffhi-3"]{content:"hmTGJm,"}/*!sc*/
.kjdbIE{margin:5px;color:white;fontWeight:500;}/*!sc*/
data-styled.g7[id="Navigation___StyledSpan-sc-10fffhi-4"]{content:"kjdbIE,"}/*!sc*/
.iQzkww{background-color:#272822;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;padding:0.2em 0.4em;font-size:0.8em;border-radius:0.3em;}/*!sc*/
data-styled.g15[id="Code-sc-1amjnp4-0"]{content:"iQzkww,"}/*!sc*/
.fOgHwq{margin-left:auto !important;margin-right:auto !important;}/*!sc*/
data-styled.g16[id="TreeToJSX__Pre-sc-1taxolb-0"]{content:"fOgHwq,"}/*!sc*/
.jZgmsL{color:#aaa;font-style:italic;border-left:2px solid #ddd;margin-left:0;margin-right:0;padding-left:10px;}/*!sc*/
data-styled.g17[id="TreeToJSX__BlockQuote-sc-1taxolb-1"]{content:"jZgmsL,"}/*!sc*/
.dTmJnK > p{margin:0;}/*!sc*/
data-styled.g18[id="TreeToJSX__Li-sc-1taxolb-2"]{content:"dTmJnK,"}/*!sc*/
.hYmhcO{text-align:center;margin:2em;margin-bottom:0.2em;}/*!sc*/
data-styled.g21[id="slug___StyledH-sc-8mhdoa-0"]{content:"hYmhcO,"}/*!sc*/
.iRnBGj{font-size:0.8em;text-align:center;}/*!sc*/
data-styled.g22[id="slug___StyledP-sc-8mhdoa-1"]{content:"iRnBGj,"}/*!sc*/
.bWFbvA{font-size:1.2em;line-height:1.4em;-webkit-letter-spacing:0.01em;-moz-letter-spacing:0.01em;-ms-letter-spacing:0.01em;letter-spacing:0.01em;overflow-wrap:break-word;padding:1.1em;margin:0 auto;}/*!sc*/
.bWFbvA > *:not(pre){max-width:850px;margin-left:auto;margin-right:auto;}/*!sc*/
.bWFbvA > pre{width:90vw;max-width:1100px;}/*!sc*/
data-styled.g23[id="slug__BlogContentContainer-sc-8mhdoa-2"]{content:"bWFbvA,"}/*!sc*/
</style></head><body><div id="__next"><div><nav class="Navigation__Nav-sc-10fffhi-3 hmTGJm"><a href="/" target="_self" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS Navigation___StyledLink-sc-10fffhi-0 frqqeo">/</a><span class="Navigation___StyledSpan-sc-10fffhi-4 kjdbIE">&gt;</span><a href="/blog" target="_self" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS Navigation___StyledLink2-sc-10fffhi-1 fBDDkv">blog</a><span class="Navigation___StyledSpan-sc-10fffhi-4 kjdbIE">&gt;</span><a href="/blog/how-to-set-up-wsl-for-development" target="_self" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS Navigation___StyledLink3-sc-10fffhi-2 gwcSSF">how-to-set-up-wsl-for-development</a></nav><main><header><h1 class="slug___StyledH-sc-8mhdoa-0 hYmhcO">How to Set Up WSL for Development</h1><p class="slug___StyledP-sc-8mhdoa-1 iRnBGj"><time dateTime="2021-02-23T23:13:25.100Z">February 23, 2021</time></p></header><article><div class="slug__BlogContentContainer-sc-8mhdoa-2 bWFbvA"><p>WSL (Windows Subsystem for Linux) is a great way to gain access to a Linux OS through a command line interface. Being restricted to the CLI, WSL does require us to use Windows GUI programs. This, along with WSL being a subsystem that depends on Windows, does result in certain quirks that need to be worked around in order to utilize WSL to the fullest.</p><p>Some of these quirks to resolve include:</p><ul><li class="TreeToJSX__Li-sc-1taxolb-2 dTmJnK"><p>Synchronizing clipboards between WSL &amp; Windows</p></li><li class="TreeToJSX__Li-sc-1taxolb-2 dTmJnK"><p>Accessing files from both Windows and WSL</p></li><li class="TreeToJSX__Li-sc-1taxolb-2 dTmJnK"><p>Choosing the right terminal to access WSL through</p></li></ul><p>Due to the differences between WSL 1 &amp; 2, the solutions to some of these issues differ depending on the version in use. I&#x27;ll be focusing mainly on WSL 2 in this post, though I will cover some of the differences between WSL 1 &amp; 2.</p><h2>Installation</h2><p>If you haven&#x27;t already, follow the <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" target="_blank" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS">installation guide from Microsoft</a> to get WSL installed, preferably WSL 2. One possible reason you would need to settle for WSL 1, is if your version of Windows is not new enough, as covered in the guide. Another problem which I once ran into when installing WSL 2, is virtualization not being enabled in my PC&#x27;s BIOS. I was halted with the error:</p><blockquote class="TreeToJSX__BlockQuote-sc-1taxolb-1 jZgmsL"><p>&quot;Please enable the Virtual Machine Platform Windows feature and ensure virtualization is enabled in the BIOS.&quot;</p></blockquote><p>The setting you need to enable in your BIOS may be called &quot;Intel Virtualization Technology&quot; or similar depending on your CPU and motherboard.</p><h2>Synchronizing Clipboards</h2><p>While you may be able to copy text from your WSL terminal to your Windows clipboard by highlighting it with the mouse, programs in WSL such as Tmux or Vim copy text to the Linux clipboard, rather than to the Windows clipboard. In order to synchronize the two, the solution I&#x27;ve used is an X server, VcXsrv. To set this up you can follow these <a href="https://github.com/Microsoft/WSL/issues/892#issuecomment-275873108" target="_blank" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS">instructions from a GitHub comment</a>, with one exception if you&#x27;re on WSL 2. Due to the way networking was changed between WSL 1 &amp; 2, instead of adding <code class="Code-sc-1amjnp4-0 iQzkww">export DISPLAY=localhost:0.0</code> to your <code class="Code-sc-1amjnp4-0 iQzkww">.bashrc</code> / <code class="Code-sc-1amjnp4-0 iQzkww">.zshrc</code> in step 5, add these two lines:</p><pre class="TreeToJSX__Pre-sc-1taxolb-0 fOgHwq  language-bash"><code class="  language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">awk</span> <span class="token string">'/nameserver / {print <span class="token variable">$2</span>; exit}'</span> /etc/resolv.conf <span class="token operator"><span class="token file-descriptor important">2</span>></span>/dev/null<span class="token variable">)</span></span>:0
<span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGL_ALWAYS_INDIRECT</span><span class="token operator">=</span><span class="token number">1</span></code></pre><p>Also, those instructions don&#x27;t mention how to have VcXsrv start up automatically. For that, you&#x27;ll want to move the <code class="Code-sc-1amjnp4-0 iQzkww">config.xlaunch</code> file it creates to the Windows startup directory: <code class="Code-sc-1amjnp4-0 iQzkww">C:\Users\&lt;YOUR-USER&gt;\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup\</code></p><h2>Accessing Files from Both Windows and WSL</h2><p>This is something that has changed a lot between WSL 1 &amp; 2. In WSL 1, opening files from the Linux filesystem with a Windows program <a href="https://devblogs.microsoft.com/commandline/do-not-change-linux-files-using-windows-apps-and-tools" target="_blank" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS">was a no go</a>, and it was instead recommended to keep those shared files in the Windows filesystem, that both Windows and Linux could access. When I was using WSL 1, I would keep all my git repos in a Windows directory, and symlink it for quick access to my Ubuntu home directory, at <code class="Code-sc-1amjnp4-0 iQzkww">~/_</code>. I used this underscore directory as a sort of &quot;shared home directory&quot; for Windows &amp; Linux.</p><p>However in WSL 2, it is now recommended to keep those files in the Linux filesystem, for performance reasons. Now Windows is able to access the Linux filesystem as a network drive. You can view your Linux filesystem from the Windows File Explorer, by typing <code class="Code-sc-1amjnp4-0 iQzkww">\\wsl$</code> into its address bar. There&#x27;s only one limitation I&#x27;m aware of with this network drive approach: symlinks.</p><p>Taking my use case as an example, I keep my configuration files in a &quot;dotfiles&quot; git repo. When developing on WSL and using VSCode on Windows, I would need to keep my dotfiles repo in the Windows filesystem in order to create a Windows symlink (<code class="Code-sc-1amjnp4-0 iQzkww">mklink /D &quot;&lt;target-dir&gt;&quot; &quot;&lt;source-dir&gt;&quot;</code> in <code class="Code-sc-1amjnp4-0 iQzkww">cmd.exe</code>) that links those config files to the directory that VSCode looks for them. That&#x27;s one case to consider before you put everything in the Linux filesystem.</p><h2>Choosing a Terminal for WSL</h2><p>The default terminal you get upon opening the Ubuntu Windows app (or other distro) is okay, but may be lacking some features or config options you&#x27;ve come to expect. Unless you&#x27;re using Tmux, you&#x27;re probably missing multiple terminal tabs. You can get this feature from the <a href="https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701" target="_blank" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS">Windows Terminal</a>, from the Microsoft Store. My personal choice is <a href="https://github.com/mskyaxl/wsl-terminal" target="_blank" rel="noopener noreferrer" class="A__A_-sc-14fqd0c-0 kuhBS">wsl-terminal</a>.</p></div></article></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"How to Set Up WSL for Development","date":"2021-02-23T23:13:25.100Z","content":"\nWSL (Windows Subsystem for Linux) is a great way to gain access to a Linux OS through a command line interface. Being restricted to the CLI, WSL does require us to use Windows GUI programs. This, along with WSL being a subsystem that depends on Windows, does result in certain quirks that need to be worked around in order to utilize WSL to the fullest.\n\nSome of these quirks to resolve include:\n* Synchronizing clipboards between WSL \u0026 Windows\n* Accessing files from both Windows and WSL\n* Choosing the right terminal to access WSL through\n\nDue to the differences between WSL 1 \u0026 2, the solutions to some of these issues differ depending on the version in use. I'll be focusing mainly on WSL 2 in this post, though I will cover some of the differences between WSL 1 \u0026 2.\n\n## Installation\nIf you haven't already, follow the [installation guide from Microsoft](https://docs.microsoft.com/en-us/windows/wsl/install-win10) to get WSL installed, preferably WSL 2. One possible reason you would need to settle for WSL 1, is if your version of Windows is not new enough, as covered in the guide. Another problem which I once ran into when installing WSL 2, is virtualization not being enabled in my PC's BIOS. I was halted with the error:\n\u003e \"Please enable the Virtual Machine Platform Windows feature and ensure virtualization is enabled in the BIOS.\"\n\nThe setting you need to enable in your BIOS may be called \"Intel Virtualization Technology\" or similar depending on your CPU and motherboard.\n\n## Synchronizing Clipboards\nWhile you may be able to copy text from your WSL terminal to your Windows clipboard by highlighting it with the mouse, programs in WSL such as Tmux or Vim copy text to the Linux clipboard, rather than to the Windows clipboard. In order to synchronize the two, the solution I've used is an X server, VcXsrv. To set this up you can follow these [instructions from a GitHub comment](https://github.com/Microsoft/WSL/issues/892#issuecomment-275873108), with one exception if you're on WSL 2. Due to the way networking was changed between WSL 1 \u0026 2, instead of adding `export DISPLAY=localhost:0.0` to your `.bashrc` / `.zshrc` in step 5, add these two lines:\n```bash\nexport DISPLAY=$(awk '/nameserver / {print $2; exit}' /etc/resolv.conf 2\u003e/dev/null):0\nexport LIBGL_ALWAYS_INDIRECT=1\n```\nAlso, those instructions don't mention how to have VcXsrv start up automatically. For that, you'll want to move the `config.xlaunch` file it creates to the Windows startup directory: `C:\\Users\\\u003cYOUR-USER\u003e\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup\\`\n\n## Accessing Files from Both Windows and WSL\nThis is something that has changed a lot between WSL 1 \u0026 2. In WSL 1, opening files from the Linux filesystem with a Windows program [was a no go](https://devblogs.microsoft.com/commandline/do-not-change-linux-files-using-windows-apps-and-tools), and it was instead recommended to keep those shared files in the Windows filesystem, that both Windows and Linux could access. When I was using WSL 1, I would keep all my git repos in a Windows directory, and symlink it for quick access to my Ubuntu home directory, at `~/_`. I used this underscore directory as a sort of \"shared home directory\" for Windows \u0026 Linux.\n\nHowever in WSL 2, it is now recommended to keep those files in the Linux filesystem, for performance reasons. Now Windows is able to access the Linux filesystem as a network drive. You can view your Linux filesystem from the Windows File Explorer, by typing `\\\\wsl$` into its address bar. There's only one limitation I'm aware of with this network drive approach: symlinks.\n\nTaking my use case as an example, I keep my configuration files in a \"dotfiles\" git repo. When developing on WSL and using VSCode on Windows, I would need to keep my dotfiles repo in the Windows filesystem in order to create a Windows symlink (`mklink /D \"\u003ctarget-dir\u003e\" \"\u003csource-dir\u003e\"` in `cmd.exe`) that links those config files to the directory that VSCode looks for them. That's one case to consider before you put everything in the Linux filesystem.\n\n## Choosing a Terminal for WSL\nThe default terminal you get upon opening the Ubuntu Windows app (or other distro) is okay, but may be lacking some features or config options you've come to expect. Unless you're using Tmux, you're probably missing multiple terminal tabs. You can get this feature from the [Windows Terminal](https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701), from the Microsoft Store. My personal choice is [wsl-terminal](https://github.com/mskyaxl/wsl-terminal).\n","slug":"how-to-set-up-wsl-for-development"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"how-to-set-up-wsl-for-development"},"buildId":"RLlUhHA7KG-LZd7bnK2IS","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-28654a8145d7603786fc.js"></script><script src="/_next/static/chunks/main-c746a4ce4ff8692382cd.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.37f4a736348214b3ca94.js" async=""></script><script src="/_next/static/chunks/commons.e810983d220ce60d77fa.js" async=""></script><script src="/_next/static/chunks/d31217defe14a45f21f2dc88a0340a4400241e5c.43128fe35357df1292f1.js" async=""></script><script src="/_next/static/chunks/pages/_app-c5083ace283475b900f0.js" async=""></script><script src="/_next/static/chunks/f55490c27d84c973f151130575d86126183b0b6b.3b39966ad3ab6ba53dac.js" async=""></script><script src="/_next/static/chunks/14e8b4443f853547963f3fff4f6d87edb6a6aabe.40db631bc2cb4cd6b167.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-3e90714ce7440c4a9cbd.js" async=""></script><script src="/_next/static/RLlUhHA7KG-LZd7bnK2IS/_buildManifest.js" async=""></script><script src="/_next/static/RLlUhHA7KG-LZd7bnK2IS/_ssgManifest.js" async=""></script></body></html>